<?xml version="1.0" encoding="UTF-8"?>
<Patch>

<!-- Generic Patch Below -->
    <Operation Class="PatchOperationConditional">
                <xpath>Defs/ScenarioDef[scenario/surfaceLayer and not(scenario/surfaceLayer/connections)]/scenario/surfaceLayer</xpath>
                <match Class="PatchOperationAdd"> <!-- adds Orbit to all Odyssey-unpatched if it wasn't patched seems to work -->
                            <xpath>Defs/ScenarioDef[scenario/surfaceLayer and not(scenario/surfaceLayer/connections)]/scenario/surfaceLayer</xpath>
                            <value>
                                <connections>
                                    <Orbit>
                                        <zoomMode>ZoomOut</zoomMode>
                                    </Orbit>
                                </connections>
                            </value>
                </match>                
    </Operation>

    <!--
    <Operation Class="PatchOperationReplace">  delete this.. 
                <xpath>Defs/ScenarioDef[not(scenario/parts/li[@Class="ScenPart_PlanetLayer"])]/description</xpath>
                <value>
                    <description>uhh.. boogers</description>
                </value>
    </Operation>
    -->

    <Operation Class="PatchOperationAdd">  <!--adds Orbit 2 to all Odyssey-unpatched scenarios -->
                <xpath>Defs/ScenarioDef[scenario/surfaceLayer and not(scenario/parts[li[@Class="ScenPart_PlanetLayer"]])]/scenario/parts</xpath>
                <value>
                    <li Class="ScenPart_PlanetLayer">
                        <def>PlanetLayer</def>
                        <tag>Orbit</tag>
                        <layer>Orbit</layer>
                        <settingsDef>Orbit</settingsDef>
                        <hide>true</hide>
                        <connections>
                            <Surface>
                                <zoomMode>ZoomIn</zoomMode>
                            </Surface>
                            <Orbit2>
                                <zoomMode>ZoomOut</zoomMode>
                            </Orbit2>
                        </connections>
                    </li>
                     
                    <li Class="ScenPart_PlanetLayer">
                        <def>PlanetLayer</def>
                        <tag>Orbit2</tag>
                        <layer>Orbit2</layer>
                        <settingsDef>Orbit2</settingsDef>
                        <hide>true</hide>
                        <connections>
                            <Orbit>
                                <zoomMode>ZoomIn</zoomMode>
                            </Orbit>
                        </connections>
                    </li>
                    
                </value>    
    </Operation>
    

    
    <Operation Class="PatchOperationAdd">  <!--adds link to Orbit 2 for Orbit scenarios that have Orbit - WORKS 100%-->
                <xpath>Defs/ScenarioDef/scenario/parts[li[@Class="ScenPart_PlanetLayer"]/tag[text()="Orbit"] and not(li[@Class="ScenPart_PlanetLayer"]/tag[text()="Orbit2"])]/li[@Class="ScenPart_PlanetLayer"]/connections</xpath>
                <value>
                    <Orbit2>
                        <zoomMode>ZoomOut</zoomMode>
                    </Orbit2>
                </value>
    </Operation>
    

    
    <Operation Class="PatchOperationAdd"> <!-- adds Orbit2 to scenarios that have Orbit but not Orbit 2 - WORKS 100%-->
                <xpath>Defs/ScenarioDef[scenario/parts[li[@Class="ScenPart_PlanetLayer"]/tag[text()="Orbit"]] and not(scenario/parts[li[@Class="ScenPart_PlanetLayer"]/tag[text()="Orbit2"]])]/scenario/parts</xpath>
                <value>
                    <li Class="ScenPart_PlanetLayer">
                        <def>PlanetLayer</def>
                        <tag>Orbit2</tag>
                        <layer>Orbit2</layer>
                        <settingsDef>Orbit2</settingsDef>
                        <hide>true</hide>
                        <connections>
                            <Orbit>
                                <zoomMode>ZoomIn</zoomMode>
                            </Orbit>
                        </connections>
                    </li>
                </value>
    </Operation>
    



</Patch>